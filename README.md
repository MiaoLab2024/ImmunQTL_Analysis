Tumor microenvironment (TME) is a complex assembly of tumor, immune, stromal, and extracellular components. Organization of these components at the cellular and tissue levels plays a crucial role in the effectiveness of antitumor immunity. Single-cell RNA sequencing (scRNA-seq) provides an unprecedented resolution to decipher the heterogeneous populations in TME, allowing identification of novel cell-types and discovery of unknown associations. With the extension of CIBERSORTx, we deconvolved TCGA bulk RNA-seq with the reference profiles generated from scRNA-seq data of the corresponding tumor type. Then, we performed a pan-cancer evaluation of the contribution of germline variation on tumor microenvironment composition, and identified immunity quantitative trait loci (immunQTLs) across 23 cancer types from TCGA. Furthermore, we identified associations between cell fractions and gene expression, and explored dynamic interactions between tumor and immune cells. 
